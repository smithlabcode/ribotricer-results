# -*- coding:UTF-8 -*-
__author__ = 'Wenzheng Li'
"""
Read the frame_ccds file generated by RiboTaper and convert it to a bed file.
Bed file will be used to intersect with bam file to extract reads for only CCDS.
"""

import sys
fname = str(sys.argv[1])
to_write = ''
with open(fname, 'r') as frame:
    for line in frame:
        fields, frame, strand, length = line.strip().split('\t')
        chrom, start, end, _, gene = fields.strip().split('_')
        to_write += '{}\t{}\t{}\t{}\t{}\t{}\n'.format(chrom, start, end, gene, '.', strand)
with open('frame_ccds.bed', 'w') as output:
    output.write(to_write)
